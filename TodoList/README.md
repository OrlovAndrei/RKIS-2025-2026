Проект TodoList С#

## Участники проекта:
- Дегтярева Ангелина
- Маркова Аксинья 

## Выполненные задачи:
- Создано консольное приложение TodoList (Дегтярева)
- Добавлен .gitignore с исключением служебных папок (Дегтярева)
- Реализован ввод данных пользователя (имя, фамилия, год рождения) (Дегтярева)
- Добавлен расчет возраста на основе введенных данных (Маркова)
- Реализован вывод информации о пользователе (Маркова)
- Создание Readme-файла и описание (Дегтярева)
- Реализация Pull Request (Маркова)

# 3 Лекция

## Нововведения:
- help - вывод списка всех доступных команд (Дегтярева)
- profile - отображение данных пользователя (Дегтярева)
- add "текст" - добавление новой задачи (Маркова)
- view - просмотр всех задач (Маркова)
- exit - выход из программы (Дегтярева)
- Динамическое расширение массива задач при заполнении (Маркова)

# 4 Лекция 

## Новые возможности:
- Добавлены массивы статусов и дат
- Все массивы расширяются синхронно
- Команды add и view обновлены
- Добавлены команды done, delete, update

## 5 Лекция 

## Новые возможности:
- **Однострочный режим:** Классический ввод одной строки текста.
- **Многострочный режим:** Ввод нескольких строк для сложных задач. Активируется флагами `--multiline` или `-m`. Для завершения ввода используйте команду `!end`.
- Просмотр списка задач
Команда `view` поддерживает гибкие флаги для настройки отображения. Флаги можно комбинировать.
**Новые доступные флаги:**
- `--index` или `-i` — Показывать индекс задачи
- `--status` или `-s` — Показывать статус выполнения
- `--update-date` или `-d` — Показывать дату последнего изменения
- `--all` или `-a` — Показывать всю информацию о задаче

## 6 Лекция 

## Новые возможности 

### Классы приложения

#### TodoItem
 -   **Методы**:
  - `MarkDone()` - отметка задачи как выполненной
  - `UpdateText()` - обновление текста задачи
  - `GetShortInfo()` - краткая информация о задаче
  - `GetFullInfo()` - полная информация о задаче

#### TodoList  
- **Методы**:
  - `Add()` - добавление новой задачи
  - `Delete()` - удаление задачи
  - `View()` - просмотр задач с фильтрами
  - `GetItem()` - получение задачи по индексу

#### Profile
- **Свойства**: Имя, фамилия, год рождения
- **Метод**: `GetInfo()` - информация о пользователе

### Архитектура
- Каждая задача представлена объектом `TodoItem`
- Список задач управляется классом `TodoList`
- Данные пользователя хранятся в классе `Profile`
- Все поля классов приватные, доступ через методы

## 7 Лекция 

### Добавлено:

#### 1. Интерфейс ICommand
- `Execute()` - метод выполнения команды

#### 2. Классы команд:
- `AddCommand` - добавление задач (обычный и многострочный режим)
- `ViewCommand` - просмотр задач с различными флагами
- `DoneCommand` - отметка задач как выполненных  
- `DeleteCommand` - удаление задач
- `UpdateCommand` - обновление текста задач
- `ReadCommand` - детальный просмотр задачи
- `ProfileCommand` - отображение профиля пользователя
- `HelpCommand` - справка по командам
- `ExitCommand` - выход из приложения

#### 3. CommandParser
- Статический класс для разбора пользовательского ввода
- Метод `Parse()` создает объекты команд на основе ввода

### Изменено:

#### 1. Главный цикл программы
- **Было:** Прямая обработка команд через switch-case
- **Стало:** Использование CommandParser и вызов Execute() команд

#### 2. Архитектура обработки команд
- **Было:** Монолитные методы в классе Program
- **Стало:** Изолированные классы команд с интерфейсом ICommand

### Удалено:

#### Старые методы обработки команд:
- `ProcessCommand()`
- `AddTodo()`
- `AddTodoMultiline()`
- `ViewTodos()`
- `MarkTaskAsDone()`
- `DeleteTask()`
- `UpdateTask()`
- `ReadTask()`
- `ShowHelp()`
- `ShowProfile()`


## 8 Лекция

## Новые возможности

### Автосохранение данных
- **Профиль** сохраняется в `Data/profile.txt`
- **Задачи** сохраняются в `Data/todo.csv` (формат CSV)
- Данные автоматически загружаются при запуске
- Изменения сохраняются после каждой команды

### FileManager класс
- `EnsureDataDirectory()` - создает папку данных
- `SaveProfile()` / `LoadProfile()` - работа с профилем
- `SaveTodos()` / `LoadTodos()` - работа с задачами


## 9 Лекция

## Новые возможности

### Расширенные статусы задач
Теперь задачи могут иметь 5 различных статусов:
- **NotStarted** - Не начато
- **InProgress** - В процессе
- **Completed** - Выполнено
- **Postponed** - Отложено
- **Failed** - Провалено

### Команда status
Добавлена новая команда для изменения статусов задач.


## 10 Лекция 

## Добавлена возможность отмены и повтора действий:

- **undo** - отменить последнее действие
- **redo** - повторить отмененное действие

## Поддерживается отмена для следующих команд:
- Добавление задач (add)
- Удаление задач (delete) 
- Обновление текста задач (update)
- Изменение статусов задач (status)

## 11 Лекция 

## Добавлена возможность отмены и повтора действий:
- Создание и добавление профиля 
- **profile --out (-o)** - выйти из текущего профиля


## 12 Лекция

### Добавлена система событий и автоматического сохранения

**Новая архитектура с использованием событий:**
  - Класс `TodoList` теперь содержит события для основных операций:
  - `OnTodoAdded` - при добавлении задачи
  - `OnTodoDeleted` - при удалении задачи  
  - `OnTodoUpdated` - при обновлении текста задачи
  - `OnStatusChanged` - при изменении статуса задачи

**Автоматическое сохранение:**
- При любом изменении в `TodoList` автоматически вызывается сохранение в файл
- Система подписок настроена в методе `SubscribeTodoListEvents()`
- `FileManager` подписан на все события `TodoList`

## 2 семестр 1 лекция 

### Добавление новой консольной команы search и флагов 

**Добавление флагов:**
- `--contains`
- `--starts-with`
- `--ends-with` 
- `--from <date>`
- `--to <date>`
- `yyyy-MM-dd`
- `--status <status>`
- `--sort text`
- `--sort date`
- `--desc`
- `--top <n>`

**Формирование результата через таблицу**


# Отчет по лекции "Исключения" (Семестр 2 Лекция 2)

## Выполненные задания:

### Пункт 1: Обработка ошибок ввода
- Добавлены проверки на пустые строки при вводе логина и пароля
- Добавлена проверка на существующий логин при регистрации
- Использован `int.TryParse` для года рождения с проверкой диапазона (1900-текущий год)
- Использован `DateTime.TryParse` для дат в команде `search`
- Добавлены проверки индексов задач во всех командах

### Пункт 2: Глобальный try-catch
- Весь основной цикл обработки команд обернут в `try-catch`
- Запрет на пустые `catch` соблюден - все блоки обрабатывают ошибки
- Программа не завершается аварийно при возникновении исключений

### Пункт 3: Создание собственных классов исключений
Создана папка `Exceptions` со следующими классами:

  Класс исключения				 Назначение 
 `InvalidCommandException`   Неизвестная команда или ошибка выполнения команды 
 `InvalidArgumentException`  Неверные аргументы команд (индекс, текст, флаги) 
 `TaskNotFoundException`	 Обращение к несуществующей задаче 
 `ProfileNotFoundException`	 Профиль не найден 
 `AuthenticationException`	 Ошибка входа (неверный логин/пароль) 
 `DuplicateLoginException`	 Попытка регистрации с существующим логином 

### Пункт 4: Использование пользовательских исключений в логике
- Заменены все `Console.WriteLine` об ошибках на `throw new ...Exception`
- В командах `DeleteCommand`, `ReadCommand`, `UpdateCommand`, `StatusCommand` добавлена проверка индексов через исключения
- В `LoginProfile` добавлена проверка через `AuthenticationException`
- В `CreateNewProfile` добавлена проверка через `DuplicateLoginException`

### Пункт 5: Проверка бизнес-логики
- **UndoCommand**: проверка на пустой стек (`InvalidCommandException`)
- **RedoCommand**: проверка на пустой стек (`InvalidCommandException`)
- **CommandParser**: проверка неизвестных команд (`InvalidCommandException`)
- **ParseSearchCommand**: проверка неизвестных флагов (`InvalidArgumentException`)
- Проверка авторизации перед выполнением команд

### Пункт 6: Разделение обработки исключений
В главном цикле `Program.cs` добавлены отдельные блоки `catch` для каждого типа исключений:

```csharp
catch (TaskNotFoundException ex)
catch (InvalidArgumentException ex)
catch (InvalidCommandException ex)
catch (AuthenticationException ex)
catch (DuplicateLoginException ex)
catch (Exception ex)
# Тест-кейсы для приложения ToDoList

### TC-01 Создание нового пользователя

**Описание:**
Проверка успешного создания нового пользователя в системе.

**Предусловия:**
Приложение запущено. Пользователь не авторизован.

**Последовательность действий:**
1. На вопрос "Войти в существующий профиль? [y/n]" ввести `n`
2. Ввести логин: `testuser`
3. Ввести пароль: `password123`
4. Ввести имя: `Тест`
5. Ввести фамилию: `Пользователь`
6. Ввести год рождения: `2000`

**Ожидаемый результат:**
- Сообщение "Регистрация прошла успешно!"
- Приглашение `>` для ввода команд

**Скриншоты:**
- `Screenshots/TC-01-step1.png`
- `Screenshots/TC-01-step2.png`

---

### TC-02 Авторизация существующего пользователя

**Описание:**
Проверка входа в систему под уже созданным пользователем.

**Предусловия:**
Приложение запущено. Создан пользователь testuser.

**Последовательность действий:**
1. На вопрос "Войти в существующий профиль? [y/n]" ввести `y`
2. Ввести логин: `testuser`
3. Ввести пароль: `password123`

**Ожидаемый результат:**
- Сообщение "Добро пожаловать, Тест!"
- Приглашение `>` для ввода команд

**Скриншоты:**
- `Screenshots/TC-02-step1.png`
- `Screenshots/TC-02-step2.png`

---

### TC-03 Ошибка авторизации с неверным паролем

**Описание:**
Проверка, что система не пускает пользователя с неправильным паролем.

**Предусловия:**
Приложение запущено. Создан пользователь testuser.

**Последовательность действий:**
1. На вопрос "Войти в существующий профиль? [y/n]" ввести `y`
2. Ввести логин: `testuser`
3. Ввести пароль: `wrongpassword`

**Ожидаемый результат:**
- Сообщение "Неверный логин или пароль."
- Возврат к вопросу о входе/регистрации

**Скриншоты:**
- `Screenshots/TC-03-step1.png`

---

### TC-04 Выход из текущего пользователя

**Описание:**
Проверка выхода из системы через команду profile с флагом out.

**Предусловия:**
Пользователь testuser авторизован.

**Последовательность действий:**
1. Ввести команду `profile --out`

**Ожидаемый результат:**
- Сообщение "Вы вышли из системы."
- Возврат к вопросу "Войти в существующий профиль? [y/n]"

**Скриншоты:**
- `Screenshots/TC-04-step1.png`

---

### TC-05 Повторная регистрация с существующим логином

**Описание:**
Проверка, что нельзя создать пользователя с уже существующим логином.

**Предусловия:**
Приложение запущено. Существует пользователь testuser.

**Последовательность действий:**
1. Выбрать регистрацию (n)
2. Ввести логин: `testuser`

**Ожидаемый результат:**
- Сообщение об ошибке

**Скриншоты:**
- `Screenshots/TC-05-step1.png`

---

### TC-06 Добавление задачи с корректными данными

**Описание:**
Проверка добавления новой задачи с обычным текстом.

**Предусловия:**
Пользователь testuser авторизован.

**Последовательность действий:**
1. Ввести команду `add 'Купить молоко'`
2. Ввести команду `view`

**Ожидаемый результат:**
- Сообщение "Задача добавлена!"
- В списке задач отображается "Купить молоко"

**Скриншоты:**
- `Screenshots/TC-06-step1.png`

---

### TC-07 Добавление задачи с пустым названием

**Описание:**
Проверка обработки пустого названия задачи.

**Предусловия:**
Пользователь testuser авторизован.

**Последовательность действий:**
1. Ввести команду `add ''`

**Ожидаемый результат:**
- Сообщение "Ошибка: не введён текст задачи"
- Задача не добавляется

**Скриншоты:**
- `Screenshots/TC-07-step1.png`

---

### TC-08 Добавление задачи с длинным текстом

**Описание:**
Проверка добавления задачи с очень длинным названием.

**Предусловия:**
Пользователь testuser авторизован.

**Последовательность действий:**
1. Ввести команду `add 'Это очень длинная задача, которая содержит множество слов и символов для проверки того, как приложение обрабатывает длинные строки и не происходит ли обрезания текста при отображении'`
2. Ввести команду `view`

**Ожидаемый результат:**
- Задача успешно добавляется
- В списке отображается обрезанная версия

**Скриншоты:**
- `Screenshots/TC-08-step1.png`
- `Screenshots/TC-08-step2.png`

---

### TC-09 Добавление задачи в многострочном режиме

**Описание:**
Проверка добавления задачи из нескольких строк.

**Предусловия:**
Пользователь testuser авторизован.

**Последовательность действий:**
1. Ввести команду `add --multiline`
2. Ввести первую строку: `Купить продукты:`
3. Ввести вторую строку: `- молоко`
4. Ввести третью строку: `- хлеб`
5. Ввести `!end`
6. Ввести команду `read 1`

**Ожидаемый результат:**
- Задача успешно создана
- Команда `read` показывает все три строки

**Скриншоты:**
- `Screenshots/TC-09-step1.png`
- `Screenshots/TC-09-step2.png`

---

### TC-10 Добавление задачи со служебными символами

**Описание:**
Проверка добавления задачи с символами / , ; , | , \ , :

**Предусловия:**
Пользователь testuser авторизован.

**Последовательность действий:**
1. Ввести команду `add 'Текст со / спец; символами | и \ также : проверка'`
2. Ввести команду `view`

**Ожидаемый результат:**
- Задача успешно добавляется
- Все символы корректно отображаются

**Скриншоты:**
- `Screenshots/TC-10-step1.png`

---

### TC-11 Просмотр списка задач без флагов

**Описание:**
Проверка базового отображения списка задач.

**Предусловия:**
Пользователь testuser авторизован. Добавлено несколько задач.

**Последовательность действий:**
1. Ввести команду `view`

**Ожидаемый результат:**
- Отображается список задач
- Показывается только текст задач, без индексов и статусов

**Скриншоты:**
- `Screenshots/TC-11-step1.png`

---

### TC-12 Просмотр с флагом --index (-i)

**Описание:**
Проверка отображения индексов задач.

**Предусловия:**
Пользователь testuser авторизован. Есть задачи.

**Последовательность действий:**
1. Ввести команду `view --index`
2. Ввести команду `view -i`

**Ожидаемый результат:**
- В обоих случаях отображаются номера задач (1., 2., 3....)

**Скриншоты:**
- `Screenshots/TC-12-step1.png`
- `Screenshots/TC-12-step2.png`

---

### TC-13 Просмотр с флагом --status (-s)

**Описание:**
Проверка отображения статусов задач.

**Предусловия:**
Пользователь testuser авторизован. Есть задачи.

**Последовательность действий:**
1. Ввести команду `view --status`

**Ожидаемый результат:**
- Отображаются статусы задач в формате [NotStarted], [Completed] и т.д.

**Скриншоты:**
- `Screenshots/TC-13-step1.png`

---

### TC-14 Просмотр с флагом --update-date (-d)

**Описание:**
Проверка отображения даты последнего изменения.

**Предусловия:**
Пользователь testuser авторизован. Есть задачи.

**Последовательность действий:**
1. Ввести команду `view --update-date`

**Ожидаемый результат:**
- Отображается дата последнего изменения в формате (yyyy-MM-dd HH:mm)

**Скриншоты:**
- `Screenshots/TC-14-step1.png`

---

### TC-15 Просмотр с флагом --all (-a)

**Описание:**
Проверка отображения всех колонок одновременно.

**Предусловия:**
Пользователь testuser авторизован. Есть задачи.

**Последовательность действий:**
1. Ввести команду `view --all`

**Ожидаемый результат:**
- Отображаются индекс, статус, дата изменения и текст задачи

**Скриншоты:**
- `Screenshots/TC-15-step1.png`

---

### TC-16 Просмотр при пустом списке

**Описание:**
Проверка отображения сообщения, когда задач нет.

**Предусловия:**
Пользователь testuser авторизован. Список задач пуст.

**Последовательность действий:**
1. Ввести команду `view`

**Ожидаемый результат:**
- Сообщение "Список задач пуст"

**Скриншоты:**
- `Screenshots/TC-16-step1.png`

---

### TC-17 Чтение полного содержимого задачи

**Описание:**
Проверка отображения полной информации о задаче.

**Предусловия:**
Пользователь testuser авторизован. Есть многострочная задача с номером 1.

**Последовательность действий:**
1. Ввести команду `read 1`

**Ожидаемый результат:**
- Отображается полный текст задачи
- Отображается статус задачи
- Отображается дата последнего изменения

**Скриншоты:**
- `Screenshots/TC-17-step1.png`

---

### TC-18 Чтение несуществующей задачи

**Описание:**
Проверка обработки неверного индекса.

**Предусловия:**
Пользователь testuser авторизован. Всего задач 3.

**Последовательность действий:**
1. Ввести команду `read 99`

**Ожидаемый результат:**
- Сообщение "Ошибка: некорректный номер задачи"

**Скриншоты:**
- `Screenshots/TC-18-step1.png` (ошибка)

---

### TC-19 Обновление текста задачи

**Описание:**
Проверка изменения текста существующей задачи.

**Предусловия:**
Пользователь testuser авторизован. Есть задача с номером 1.

**Последовательность действий:**
1. Ввести команду `update 1 'Новый обновленный текст'`
2. Ввести команду `view`

**Ожидаемый результат:**
- Сообщение "Задача обновлена"
- В списке отображается новый текст

**Скриншоты:**
- `Screenshots/TC-19-step1.png`
- `Screenshots/TC-19-step2.png`

---

### TC-20 Обновление несуществующей задачи

**Описание:**
Проверка обработки обновления неверного индекса.

**Предусловия:**
Пользователь testuser авторизован. Всего задач 3.

**Последовательность действий:**
1. Ввести команду `update 99 'Текст'`

**Ожидаемый результат:**
- Сообщение "Ошибка: некорректный номер задачи"

**Скриншоты:**
- `Screenshots/TC-20-step1.png`

---

### TC-21 Изменение статуса через команду status

**Описание:**
Проверка изменения статуса задачи.

**Предусловия:**
Пользователь testuser авторизован. Есть задача с номером 1 со статусом NotStarted.

**Последовательность действий:**
1. Ввести команду `status 1 InProgress`
2. Ввести команду `view --status`

**Ожидаемый результат:**
- Сообщение "Статус задачи 1 изменен на: InProgress"
- В списке у задачи 1 статус [InProgress]

**Скриншоты:**
- `Screenshots/TC-21-step1.png`
- `Screenshots/TC-21-step2.png`

---

### TC-22 Отметка задачи как выполненной (status)

**Описание:**
Проверка изменения статуса задачи на Completed через команду status.

**Предусловия:**
Пользователь testuser авторизован. Есть задача с номером 2 со статусом NotStarted.

**Последовательность действий:**
1. Ввести команду `status 2 Completed`
2. Ввести команду `view --status`

**Ожидаемый результат:**
- Сообщение "Статус задачи 2 изменен на: Completed"
- В списке у задачи 2 статус [Completed]

**Скриншоты:**
- `Screenshots/TC-22-step1.png`
- `Screenshots/TC-22-step2.png`

---

### TC-23 Неверный статус в команде status

**Описание:**
Проверка обработки некорректного статуса.

**Предусловия:**
Пользователь testuser авторизован. Есть задача с номером 1.

**Последовательность действий:**
1. Ввести команду `status 1 InvalidStatus`

**Ожидаемый результат:**
- Сообщение "Ошибка: некорректный статус. Допустимые значения: NotStarted, InProgress, Completed, Postponed, Failed"

**Скриншоты:**
- `Screenshots/TC-23-step1.png`

---

### TC-24 Удаление существующей задачи

**Описание:**
Проверка удаления задачи из списка.

**Предусловия:**
Пользователь testuser авторизован. Есть задача с номером 1.

**Последовательность действий:**
1. Ввести команду `delete 1`
2. Ввести команду `view`

**Ожидаемый результат:**
- Сообщение "Задача удалена"
- Задача отсутствует в списке

**Скриншоты:**
- `Screenshots/TC-24-step1.png`
- `Screenshots/TC-24-step2.png`

---

### TC-25 Удаление несуществующей задачи

**Описание:**
Проверка обработки удаления неверного индекса.

**Предусловия:**
Пользователь testuser авторизован. Всего задач 3.

**Последовательность действий:**
1. Ввести команду `delete 99`

**Ожидаемый результат:**
- Сообщение "Ошибка: некорректный номер задачи"

**Скриншоты:**
- `Screenshots/TC-25-step1.png`

---

### TC-26 Поиск по содержанию текста

**Описание:**
Проверка поиска задач, содержащих указанный текст.

**Предусловия:**
Пользователь testuser авторизован. Есть задачи: "Купить молоко", "Купить хлеб", "Позвонить маме".

**Последовательность действий:**
1. Ввести команду `search --contains "Купить"`

**Ожидаемый результат:**
- Отображаются задачи "Купить молоко" и "Купить хлеб"
- Сообщение "Найдено задач: 2"

**Скриншоты:**
- `Screenshots/TC-26-step1.png`

---

### TC-27 Поиск по началу текста

**Описание:**
Проверка поиска задач, начинающихся с указанного текста.

**Предусловия:**
Пользователь testuser авторизован. Есть задачи: "Купить молоко", "Купить хлеб", "Позвонить маме".

**Последовательность действий:**
1. Ввести команду `search --starts-with "Купить"`

**Ожидаемый результат:**
- Отображаются задачи "Купить молоко" и "Купить хлеб"

**Скриншоты:**
- `Screenshots/TC-27-step1.png`

---

### TC-28 Поиск по концу текста

**Описание:**
Проверка поиска задач, заканчивающихся указанным текстом.

**Предусловия:**
Пользователь testuser авторизован. Есть задачи: "купить молоко", "взять молоко", "позвонить маме".

**Последовательность действий:**
1. Ввести команду `search --ends-with "молоко"`

**Ожидаемый результат:**
- Отображаются задачи "купить молоко" и "взять молоко"

**Скриншоты:**
- `Screenshots/TC-28-step1.png`

---

### TC-29 Поиск по дате (from/to)

**Описание:**
Проверка поиска задач по диапазону дат.

**Предусловия:**
Пользователь testuser авторизован. Есть задачи с разными датами создания.

**Последовательность действий:**
1. Ввести команду `search --from 2026-01-01 --to 2026-12-31`

**Ожидаемый результат:**
- Отображаются задачи, созданные в 2024 году

**Скриншоты:**
- `Screenshots/TC-29-step1.png`

---

### TC-30 Поиск по статусу

**Описание:**
Проверка поиска задач по статусу.

**Предусловия:**
Пользователь testuser авторизован. Есть задачи с разными статусами.

**Последовательность действий:**
1. Ввести команду `search --status Completed`

**Ожидаемый результат:**
- Отображаются только выполненные задачи

**Скриншоты:**
- `Screenshots/TC-30-step1.png`

---

### TC-31 Поиск с сортировкой по тексту

**Описание:**
Проверка сортировки результатов поиска по тексту.

**Предусловия:**
Пользователь testuser авторизован. Есть несколько задач.

**Последовательность действий:**
1. Ввести команду `search --contains "а" --sort text`

**Ожидаемый результат:**
- Задачи отображаются в алфавитном порядке

**Скриншоты:**
- `Screenshots/TC-31-step1.png`

---

### TC-32 Поиск с сортировкой по дате (убывание)

**Описание:**
Проверка сортировки по дате с флагом --desc.

**Предусловия:**
Пользователь testuser авторизован. Есть несколько задач.

**Последовательность действий:**
1. Ввести команду `search --sort date --desc`

**Ожидаемый результат:**
- Задачи отображаются от самых новых к старым

**Скриншоты:**
- `Screenshots/TC-32-step1.png`

---

### TC-33 Поиск с ограничением результатов (--top)

**Описание:**
Проверка ограничения количества выводимых результатов.

**Предусловия:**
Пользователь testuser авторизован. Есть много задач.

**Последовательность действий:**
1. Ввести команду `search --contains "а" --top 3`

**Ожидаемый результат:**
- Отображаются только первые 3 подходящие задачи

**Скриншоты:**
- `Screenshots/TC-33-step1.png`

---

### TC-34 Поиск без результатов

**Описание:**
Проверка поиска, когда ничего не найдено.

**Предусловия:**
Пользователь testuser авторизован.

**Последовательность действий:**
1. Ввести команду `search --contains "несуществующийтекст"`

**Ожидаемый результат:**
- Сообщение "Ничего не найдено"

**Скриншоты:**
- `Screenshots/TC-34-step1.png`

---

### TC-35 Комбинация нескольких флагов поиска

**Описание:**
Проверка сложного поиска с несколькими условиями.

**Предусловия:**
Пользователь testuser авторизован. Есть разнообразные задачи.

**Последовательность действий:**
1. Ввести команду `search --contains "купить" --status InProgress --sort date --top 5`

**Ожидаемый результат:**
- Отображаются задачи, содержащие "купить" со статусом InProgress
- Отсортированы по дате
- Не более 5 задач

**Скриншоты:**
- `Screenshots/TC-35-step1.png`

---

### TC-36 Неверный формат даты в поиске

**Описание:**
Проверка обработки некорректного формата даты.

**Предусловия:**
Пользователь testuser авторизован.

**Последовательность действий:**
1. Ввести команду `search --from "01-01-2024"`

**Ожидаемый результат:**
- Предупреждение "неверный формат даты"
- Поиск выполняется без учета этого фильтра

**Скриншоты:**
- `Screenshots/TC-36-step1.png`

---

### TC-37 Отмена добавления задачи (undo)

**Описание:**
Проверка отмены команды add.

**Предусловия:**
Пользователь testuser авторизован. Список задач пуст.

**Последовательность действий:**
1. Ввести команду `add 'Тестовая задача'`
2. Ввести команду `view` (убедиться, что задача есть)
3. Ввести команду `undo`
4. Ввести команду `view`

**Ожидаемый результат:**
- После undo появляется сообщение "Добавление задачи отменено"
- Список задач пуст

**Скриншоты:**
- `Screenshots/TC-37-step1.png`
- `Screenshots/TC-37-step2.png`

---

### TC-38 Отмена удаления задачи (undo)

**Описание:**
Проверка отмены команды delete.

**Предусловия:**
Пользователь testuser авторизован. Есть задача с номером 1.

**Последовательность действий:**
1. Ввести команду `delete 1`
2. Ввести команду `view` (убедиться, что задача удалена)
3. Ввести команду `undo`
4. Ввести команду `view`

**Ожидаемый результат:**
- После undo появляется сообщение "Удаление задачи отменено"
- Задача снова отображается в списке

**Скриншоты:**
- `Screenshots/TC-38-step1.png`
- `Screenshots/TC-38-step2.png`

---

### TC-39 Отмена обновления задачи (undo)

**Описание:**
Проверка отмены команды update.

**Предусловия:**
Пользователь testuser авторизован. Есть задача с номером 1 с текстом "Старый текст".

**Последовательность действий:**
1. Ввести команду `update 1 Новый текст`
2. Ввести команду `view` (убедиться, что текст изменился на "Новый текст")
3. Ввести команду `undo`
4. Ввести команду `view`

**Ожидаемый результат:**
- После update: сообщение "Задача обновлена"
- После undo: сообщение "Обновление задачи отменено" и "Отмена выполнена"
- Текст задачи вернулся к "Старый текст"

**Скриншоты:**
- `Screenshots/TC-39-step1.png`
- `Screenshots/TC-39-step2.png`

---

### TC-40 Отмена изменения статуса (undo)

**Описание:**
Проверка отмены команды status.

**Предусловия:**
Пользователь testuser авторизован. Есть задача с номером 1 со статусом NotStarted.

**Последовательность действий:**
1. Ввести команду `status 1 Completed`
2. Ввести команду `view --status` (убедиться, что статус изменился на Completed)
3. Ввести команду `undo`
4. Ввести команду `view --status`

**Ожидаемый результат:**
- После status: сообщение "Статус задачи 1 изменен на: Completed"
- После undo: сообщение "Изменение статуса отменено" и "Отмена выполнена"
- Статус задачи вернулся к NotStarted

**Скриншоты:**
- `Screenshots/TC-40-step1.png`
- `Screenshots/TC-40-step2.png`

---

### TC-41 Повтор отмененного действия (redo)

**Описание:**
Проверка команды redo.

**Предусловия:**
Пользователь testuser авторизован. Есть задача с номером 1.

**Последовательность действий:**
1. Ввести команду `update 1 Тестовый текст`
2. Ввести команду `undo` (отмена обновления)
3. Ввести команду `redo`
4. Ввести команду `view`

**Ожидаемый результат:**
- После redo: сообщение "Повтор выполнен"
- Текст задачи снова стал "Тестовый текст"

**Скриншоты:**
- `Screenshots/TC-41-step1.png`
- `Screenshots/TC-41-step2.png`

---

### TC-42 Undo при пустом стеке

**Описание:**
Проверка undo, когда нечего отменять.

**Предусловия:**
Пользователь testuser авторизован. Не выполнено ни одного изменяющего действия.

**Последовательность действий:**
1. Ввести команду `undo`

**Ожидаемый результат:**
- Сообщение "Нечего отменять"

**Скриншоты:**
- `Screenshots/TC-42-step1.png`

---

### TC-43 Redo при пустом стеке

**Описание:**
Проверка redo, когда нечего повторять.

**Предусловия:**
Пользователь testuser авторизован.

**Последовательность действий:**
1. Ввести команду `redo`

**Ожидаемый результат:**
- Сообщение "Нечего повторять"

**Скриншоты:**
- `Screenshots/TC-43-step1.png`

---

### TC-44 Просмотр данных профиля

**Описание:**
Проверка отображения информации о текущем пользователе.

**Предусловия:**
Пользователь testuser авторизован.

**Последовательность действий:**
1. Ввести команду `profile`

**Ожидаемый результат:**
- Отображается "Тест Пользователь, 2000 год рождения (26 лет)"

**Скриншоты:**
- `Screenshots/TC-44-step1.png`

---

### TC-45 Profile без авторизации

**Описание:**
Проверка команды profile, когда пользователь не авторизован.

**Предусловия:**
Пользователь не авторизован (выполнен profile --out).

**Последовательность действий:**
1. Ввести команду `profile`

**Ожидаемый результат:**
- Сообщение "Вы не вошли в систему"

**Скриншоты:**
- `Screenshots/TC-45-step1.png`

---

### TC-46 Вывод справки

**Описание:**
Проверка отображения справочной информации.

**Предусловия:**
Приложение запущено.

**Последовательность действий:**
1. Ввести команду `help`

**Ожидаемый результат:**
- Отображается список всех доступных команд с описанием

**Скриншоты:**
- `Screenshots/TC-46-step1.png`

---

### TC-47 Выход из программы

**Описание:**
Проверка корректного завершения работы приложения.

**Предусловия:**
Приложение запущено, пользователь авторизован.

**Последовательность действий:**
1. Ввести команду `exit`

**Ожидаемый результат:**
- Программа завершает работу
- Данные сохраняются

**Скриншоты:**
- `Screenshots/TC-47-step1.png`

---

### TC-48 Неизвестная команда

**Описание:**
Проверка обработки несуществующей команды.

**Предусловия:**
Приложение запущено, пользователь авторизован.

**Последовательность действий:**
1. Ввести команду `unknowncommand`

**Ожидаемый результат:**
- Сообщение "Неизвестная команда. Введите 'help' для списка команд."

**Скриншоты:**
- `Screenshots/TC-48-step1.png`

---

### TC-49 Сохранение задач между сессиями

**Описание:**
Проверка, что задачи сохраняются в файл и загружаются при следующем запуске.

**Предусловия:**
Пользователь testuser авторизован. Добавлена задача "Сохранить меня".

**Последовательность действий:**
1. Ввести команду `add 'Сохранить меня'`
2. Ввести команду `exit`
3. Запустить приложение заново
4. Войти как testuser
5. Ввести команду `view`

**Ожидаемый результат:**
- После перезапуска задача "Сохранить меня" отображается в списке

**Скриншоты:**
- `Screenshots/TC-49-step1.png`
- `Screenshots/TC-49-step2.png`

---

### TC-50 Сохранение статусов между сессиями

**Описание:**
Проверка, что статусы задач сохраняются.

**Предусловия:**
Пользователь testuser авторизован. Есть задача с номером 1.

**Последовательность действий:**
1. Ввести команду `status 1 Completed`
2. Ввести команду `exit`
3. Запустить приложение заново
4. Войти как testuser
5. Ввести команду `view --status`

**Ожидаемый результат:**
- После перезапуска у задачи 1 статус [Completed]

**Скриншоты:**
- `Screenshots/TC-50-step1.png`
- `Screenshots/TC-50-step2.png`
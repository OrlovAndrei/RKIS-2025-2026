# Тест-кейсы для приложения TodoList

## 1. Пользователь и авторизация

### ТС-01 Создание нового пользователя

**Описание:**  
Проверка успешного создания нового профиля.

**Предусловия:**  
Приложение запущено. Пользователя с логином `test` не существует.

**Последовательность действий:**
1. Запустить приложение.
2. На запрос «Войти в существующий профиль? [y/n]:» ввести `n`.
3. Ввести логин: `test`.
4. Ввести пароль: `0987`.
5. Ввести имя: `Ангелина`.
6. Ввести фамилию: `Дегтярева`.
7. Ввести год рождения: `2007`.

**Ожидаемый результат:**
- Выводится сообщение: «Профиль создан: Ангелина Дегтярева, возраст 19, логин: test».
- В папке `Data` создаётся или обновляется файл `profiles.csv` с записью нового пользователя.
- Автоматически выполняется вход в созданный профиль.

**Скриншоты:**  
TodoList/TestCases/Screenshots/1 - Пользователь и авторизация/ТС-01/ТС-01 Создание нового пользователя.png

---

### ТС-02 Вход существующего пользователя

**Описание:**  
Проверка входа в систему с ранее созданными учётными данными.

**Предусловия:**  
Приложение запущено. В системе существует пользователь с логином `test` и паролем `0987`.

**Последовательность действий:**
1. Запустить приложение.
2. На запрос «Войти в существующий профиль? [y/n]:» ввести `y`.
3. Ввести логин: `test`.
4. Ввести пароль: `0987`.

**Ожидаемый результат:**
- Выводится сообщение: «Вход выполнен: : Ангелина Дегтярева, возраст 19, логин: test».
- Отображается количество загруженных задач (например, «Загружено задач: 0»).
- Появляется приглашение для ввода команд `>`.

**Скриншоты:**  

---

### ТС-03 Ошибка авторизации (неверный пароль)

**Описание:**  
Проверка реакции системы при вводе неверного пароля.

**Предусловия:**  
Приложение запущено. Существует пользователь с логином `test` и паролем `0987`.

**Последовательность действий:**
1. Запустить приложение.
2. На запрос «Войти в существующий профиль? [y/n]:» ввести `y`.
3. Ввести логин: `test`.
4. Ввести пароль: `12345`.

**Ожидаемый результат:**
- Выводится сообщение: «Неверный логин или пароль.»
- Выход из программмы.

**Скриншоты:**  

---

### ТС-04 Выход из текущего профиля

**Описание:**  
Проверка команды выхода из профиля.

**Предусловия:**  
Пользователь `test` авторизован в системе.

**Последовательность действий:**
1. Ввести команду `profile --out`.

**Ожидаемый результат:**
- Выводится сообщение о выходе из профиля.
- Задачи текущего пользователя сохраняются.
- Возврат к выбору профиля или завершение сессии.

**Скриншоты:**  

---

### ТС-05 Повторный вход после выхода

**Описание:**  
Проверка возможности снова войти в тот же профиль после выхода.

**Предусловия:**  
Приложение запущено. Пользователь `test` существует.

**Последовательность действий:**
1. Выполнить вход в профиль `test`.
2. Выполнить команду `profile --out`.
3. Снова войти в профиль `test`.

**Ожидаемый результат:**
- После повторного входа данные пользователя и его задачи загружаются корректно.
- Все команды работают как ожидается.

**Скриншоты:**  

---

### ТС-06 Просмотр данных профиля

**Описание:**  
Проверка команды `profile` для отображения информации о текущем пользователе.

**Предусловия:**  
Пользователь `test` авторизован.

**Последовательность действий:**
1. Ввести команду `profile`.

**Ожидаемый результат:**
- Выводится строка: «Ангелина Дегтярева, возраст 19, логин: test».

**Скриншоты:**  

---

### ТС-07 Создание пользователя с существующим логином

**Описание:**  
Проверка, что система не позволяет создать двух пользователей с одинаковым логином.

**Предусловия:**  
Приложение запущено. Пользователь с логином `test` уже существует.

**Последовательность действий:**
1. Запустить приложение.
2. На запрос «Войти в существующий профиль? [y/n]:» ввести `n`.
3. Ввести логин: `test`.

**Ожидаемый результат:**
- Выводится сообщение: «Ошибка: пользователь с таким логином уже существует.»
- Создание профиля прерывается.

**Скриншоты:**  

---

## 2. Добавление задач (add)

### ТС-08 Добавление обычной задачи

**Описание:**  
Проверка добавления новой задачи в обычном режиме.

**Предусловия:**  
Пользователь авторизован.

**Последовательность действий:**
1. Ввести команду `add "Купить молоко"`.

**Ожидаемый результат:**
- Выводится сообщение: «Задача добавлена: Купить молоко (всего задач: 1)».

**Скриншоты:**  

---

### ТС-09 Добавление задачи с пустым текстом

**Описание:**  
Проверка обработки пустого текста задачи.

**Предусловия:**  
Пользователь авторизован.

**Последовательность действий:**
1. Ввести команду `add ""`.

**Ожидаемый результат:**
- Выводится сообщение: «Текст задачи не может быть пустым.»
- Задача не добавляется.

**Скриншоты:**  

---

### ТС-10 Добавление задачи с очень длинным текстом

**Описание:**  
Проверка добавления задачи с длинным текстом (более 100 символов).

**Предусловия:**  
Пользователь авторизован.

**Последовательность действий:**
1. Ввести команду `add "Александр Сергеевич Пушкин (1799-1837) - русский поэт, прозаик и драматург, основоположник современного русского литературного языка. Родился 9 июня (по старому стилю – 26 мая) 1799 года в Москве в дворянской семье. В семье, кроме Александра, было ещё двое детей - сын Лев и дочь Ольга. Пушкин вместе с братом и сестрой часто гостили у бабушки в её подмосковном имении Захарово. Там будущий поэт познакомился с русскими народными сказками и песнями, а бабушка до конца своих дней стала ему близким и дорогим человеком. Именно она передала Пушкину любовь к русским народным традициям. Воспитанием Александра занимались домашние учителя и гувернеры из Европы. Литературный интерес проявился у Пушкина с раннего детства - он проводил долгие часы в кабинете отца, где был доступ к библиотеке. Первые попытки писать пришлись на семь лет - это были подражания произведениям французских поэтов и драматургов. "`.

**Ожидаемый результат:**
- Задача успешно добавляется.
- При чтении задачи командой `read` отображается полный текст.

**Скриншоты:**  

---

### ТС-11 Добавление многострочной задачи

**Описание:**  
Проверка добавления задачи в многострочном режиме.

**Предусловия:**  
Пользователь авторизован.

**Последовательность действий:**
1. Ввести команду `add --multiline`.
2. Ввести несколько строк текста, например:
   > лалала
   > лалала
   > лалала
   > алалла
   > ла
   > ала
   > лала

3. Ввести `!end` для завершения.

**Ожидаемый результат:**
- Выводится сообщение: «Многострочная задача добавлена (всего задач: 3)».
- При просмотре через `read` отображаются все строки текста.

**Скриншоты:**  

---

### ТС-12 Добавление задачи со служебными символами

**Описание:**  
Проверка добавления задачи, содержащей символы `; , | \ :`.

**Предусловия:**  
Пользователь авторизован.

**Последовательность действий:**
1. Ввести команду `add "Текст; с запятой, вертикальной чертой | и двоеточием: и слешем \"`.

**Ожидаемый результат:**
- Задача успешно добавляется.

**Скриншоты:**  

---

## 3. Просмотр задач (view)

### ТС-13 Просмотр всех задач без флагов

**Описание:**  
Проверка базового просмотра списка задач.

**Предусловия:**  
В списке есть несколько задач.

**Последовательность действий:**
1. Ввести команду `view`.

**Ожидаемый результат:**
- Выводится список задач с номерами и текстом (обрезанным до 30 символов).

**Скриншоты:**  

---

### ТС-14 Просмотр с флагом --index (-i)

**Описание:**  
Проверка отображения индексов задач.

**Предусловия:**  
В списке есть несколько задач.

**Последовательность действий:**
1. Ввести команду `view --index`.

**Ожидаемый результат:**
- В таблице отображается колонка с номерами задач.

**Скриншоты:**  

---

### ТС-15 Просмотр с флагом --status (-s)

**Описание:**  
Проверка отображения статусов задач.

**Предусловия:**  
В списке есть задачи с разными статусами.

**Последовательность действий:**
1. Ввести команду `view --status` (или `view -s`).

**Ожидаемый результат:**
- В таблице отображается колонка со статусами задач.

**Скриншоты:**  

---

### ТС-16 Просмотр с флагом --update-date (-d)

**Описание:**  
Проверка отображения дат обновления задач.

**Предусловия:**  
В списке есть задачи.

**Последовательность действий:**
1. Ввести команду `view --update-date` (или `view -d`).

**Ожидаемый результат:**
- В таблице отображается колонка с датой последнего изменения.

**Скриншоты:**  

---

### ТС-17 Просмотр со всеми флагами (--all)

**Описание:**  
Проверка отображения полной информации о задачах.

**Предусловия:**  
В списке есть задачи.

**Последовательность действий:**
1. Ввести команду `view --all` (или `view -a`).

**Ожидаемый результат:**
- Отображаются все колонки: номер, текст, статус, дата.

**Скриншоты:**  

---

### ТС-18 Просмотр задач при пустом списке

**Описание:**  
Проверка поведения при просмотре пустого списка.

**Предусловия:**  
Список задач пуст.

**Последовательность действий:**
1. Ввести команду `view`.

**Ожидаемый результат:**
- Выводится сообщение: «Задач нет.»

**Скриншоты:**  

---

## 4. Обновление задач (update / status)

### ТС-19 Обновление текста задачи

**Описание:**  
Проверка изменения текста существующей задачи.

**Предусловия:**  
В списке есть задача с номером 1.

**Последовательность действий:**
1. Ввести команду `update 1 "Купить молоко, персики, творог, яйца"`.

**Ожидаемый результат:**
- Выводится сообщение: «Задача обновлена».
- При просмотре отображается новый текст.

**Скриншоты:**  

---

### ТС-20 Изменение статуса задачи

**Описание:**  
Проверка изменения статуса задачи.

**Предусловия:**  
В списке есть задача с номером 1.

**Последовательность действий:**
1. Ввести команду `status 1 inprogress`.

**Ожидаемый результат:**
- Выводится сообщение: «Статус задачи изменен».
- При просмотре статус задачи изменился на «В процессе».

**Скриншоты:**  

---

### ТС-21 Попытка обновить несуществующую задачу

**Описание:**  
Проверка обработки обновления задачи с несуществующим номером.

**Предусловия:**  
Максимальный номер задачи в списке = N.

**Последовательность действий:**
1. Ввести команду `update N+1 "Вынести мусор"`.

**Ожидаемый результат:**
- Выводится сообщение: «Задача с номером N+1 не существует.»

**Скриншоты:**  

---

### ТС-22 Проверка корректного отображения обновлений (read)

**Описание:**  
Проверка, что после обновления задачи команда `read` показывает актуальные данные.

**Предусловия:**  
Задача с номером 1 была обновлена.

**Последовательность действий:**
1. Ввести команду `read 1`.

**Ожидаемый результат:**
- Отображается полная информация о задаче с обновлённым текстом или статусом.

**Скриншоты:**  

---

## 5. Удаление задач (delete)

### ТС-23 Удаление существующей задачи

**Описание:**  
Проверка удаления задачи.

**Предусловия:**  
В списке есть задача с номером 2.

**Последовательность действий:**
1. Ввести команду `delete 2`.

**Ожидаемый результат:**
- Выводится сообщение: «Задача удалена».

**Скриншоты:**  

---

### ТС-24 Попытка удалить несуществующую задачу

**Описание:**  
Проверка обработки удаления задачи с неверным номером.

**Предусловия:**  
Максимальный номер задачи в списке = N.

**Последовательность действий:**
1. Ввести команду `delete N+1`.

**Ожидаемый результат:**
- Выводится сообщение: «Задача с номером N+1 не существует.»

**Скриншоты:**  

---

### ТС-25 Проверка, что задача удалена из отображения

**Описание:**
Проверка, что после выполнения команды `delete` задача исчезает из списка при просмотре через `view`.

**Предусловия:**
В списке задач есть не менее 2 задач.

**Последовательность действий:**
1. Ввести команду `delete 2`.
2. Ввести команду `view`.

**Ожидаемый результат:**
- При удалении появляется сообщение: «Задача удалена».
- При просмотре списка задача, которая была под номером 2 («Купить молоко, персики, творог»), отсутствует.
- Остальные задачи отображаются со сдвигом нумерации.

**Скриншот:**

## 6. Поиск задач (search)

### ТС-26 Поиск по части строки (--contains)

**Описание:**  
Проверка поиска задач, содержащих указанный текст.

**Предусловия:**  
В списке есть задачи со словом «Убрать».

**Последовательность действий:**
1. Ввести команду `search --contains "Убр"`.

**Ожидаемый результат:**
- Найдены задачи «Убрать за кошкой» и «Убрать комнату».

**Скриншоты:**  

---

### ТС-27 Поиск по первым символам (--starts-with)

**Описание:**  
Проверка поиска задач, начинающихся с указанного текста.

**Предусловия:**  
В списке есть задачи: «Купить молоко», «Купить персики», «Купить творог», «Купить груши».

**Последовательность действий:**
1. Ввести команду `search --starts-with "Купить"`.

**Ожидаемый результат:**
- Найдены задачи «Купить молоко», «Купить персики», «Купить творог», «Купить груши».

**Скриншоты:**  

---

### ТС-28 Поиск по последним символам (--ends-with)

**Описание:**  
Проверка поиска задач, заканчивающихся указанным текстом.

**Предусловия:**  
В списке есть задачи: «Выгулять собаку», «Убрать комнату», «Повесить картину».

**Последовательность действий:**
1. Ввести команду `search --ends-with "у"`.

**Ожидаемый результат:**
- Найдены задачи «Выгулять собаку», «Убрать комнату», «Повесить картину».

**Скриншоты:**  

---

### ТС-29 Поиск с фильтром по дате (--from)

**Описание:**  
Проверка поиска задач, обновлённых после определённой даты.

**Предусловия:**  
В списке есть задачи с разными датами обновления.

**Последовательность действий:**
1. Ввести команду `search --from 2026-02-20`.

**Ожидаемый результат:**
- Найдены задачи, обновлённые 20 февраля 2026 или позже.

**Скриншоты:**  

---

### ТС-30 Поиск с сортировкой (--sort text)

**Описание:**  
Проверка сортировки результатов поиска по тексту.

**Предусловия:**  
В списке есть несколько задач.

**Последовательность действий:**
1. Ввести команду `search --sort text`.

**Ожидаемый результат:**
- Результаты поиска отсортированы по тексту в алфавитном порядке.

**Скриншоты:**  

---

### ТС-31 Поиск с ограничением (--top)

**Описание:**  
Проверка ограничения количества выводимых результатов.

**Предусловия:**  
В списке не менее 5 задач.

**Последовательность действий:**
1. Ввести команду `search --top 4`.

**Ожидаемый результат:**
- Выведено не более 4 задач.

**Скриншоты:**  

---

### ТС-32 Поиск с сортировкой результатов по убыванию

**Описание:**
Проверка работы флага `--desc` при поиске задач — сортировка результатов в порядке убывания.

**Предусловия:**
В списке есть несколько задач с разными датами обновления и текстами.

**Последовательность действий:**
1. Ввести команду `search --desc`.

**Ожидаемый результат:**
- Выводится сообщение «Найдено задач: 8».
- Результаты поиска отображаются в порядке убывания.

**Скриншот:**

---

### ТС-33 Поиск с комбинацией условий

**Описание:**
Проверка работы поиска с несколькими условиями одновременно — фильтрация по началу текста и ограничение количества результатов.

**Предусловия:**
В списке задач есть не менее 5 задач, среди которых несколько начинаются со слова «Купить»

**Последовательность действий:**
1. Ввести команду `search --starts-with "Купить" --top 2`.

**Ожидаемый результат:**
- Выводится сообщение «Найдено задач: 2».
- Отображаются только задачи, начинающиеся с «Купить».
- Выводится только 2 задачи (ограничение `--top 2`).

**Скриншот:**

---

### ТС-34 Поиск при отсутствии совпадений

**Описание:**
Проверка поведения программы, когда поиск не находит ни одной задачи, соответствующей условиям.

**Предусловия:**
В списке есть задачи, но ни одна из них не начинается со слова «Унести». 

**Последовательность действий:**
1. Ввести команду `search --starts-with "Унести"`.

**Ожидаемый результат:**
- Выводится сообщение «Ничего не найдено».

**Скриншот:**

---

### ТС-35 Поиск с фильтром по дате (--to)

**Описание:**
Проверка работы фильтра `--to` при поиске задач — отображение задач, обновлённых до указанной даты.

**Предусловия:**
В списке есть задачи с разными датами обновления. Все задачи имеют даты позже 19 февраля 2026 года.

**Последовательность действий:**
1. Ввести команду `search --to 2026-02-19`.

**Ожидаемый результат:**
- Выводится сообщение «Ничего не найдено».

**Скриншот:**

## 7. Работа с файлами

### ТС-36 Сохранение данных после добавления задачи

**Описание:**  
Проверка автоматического сохранения задачи в файл.

**Предусловия:**  
Пользователь авторизован.

**Последовательность действий:**
1. Добавить задачу командой `add "Тестовая задача"`.
2. Открыть файл `Data/todos_*.csv` (где * — ID пользователя).

**Ожидаемый результат:**
- В CSV-файле появилась новая строка с добавленной задачей.

**Скриншоты:**  

---

### ТС-37 Загрузка данных при повторном запуске

**Описание:**  
Проверка, что задачи загружаются из файла при следующем входе.

**Предусловия:**  
У пользователя есть сохранённые задачи.

**Последовательность действий:**
1. Выйти из программы.
2. Запустить программу заново.
3. Войти в профиль.

**Ожидаемый результат:**
- Загружаются все ранее добавленные задачи.
- Команда `view` показывает те же задачи, что и до выхода.

**Скриншоты:**  

---

## 8. Undo / Redo

### ТС-38 Отмена добавления задачи (undo)

**Описание:**  
Проверка отмены последнего действия.

**Предусловия:**  
В списке есть задачи.

**Последовательность действий:**
1. Добавить задачу `add "Временная задача"`.
2. Ввести команду `undo`.

**Ожидаемый результат:**
- Сообщение: «Добавление задачи отменено».
- Задача исчезает из списка.

**Скриншоты:**  

---

### ТС-39 Повтор отменённого действия (redo)

**Описание:**  
Проверка повтора отменённого действия.

**Предусловия:**  
Было выполнено undo для добавления задачи.

**Последовательность действий:**
1. Ввести команду `redo`.

**Ожидаемый результат:**
- Сообщение: «Действие повторено».
- Задача снова появляется в списке.

**Скриншоты:**  

---

### ТС-40 Undo при пустом стеке

**Описание:**  
Проверка поведения при попытке отмены, когда нет действий.

**Предусловия:**  
Стек Undo пуст (только что вошли в профиль).

**Последовательность действий:**
1. Ввести команду `undo`.

**Ожидаемый результат:**
- Сообщение: «Нет действий для отмены».

**Скриншоты:**  

---

### ТС-41 Redo при пустом стеке
**Описание:**  
Проверка поведения при попытке повтора, когда нет отменённых действий.

**Предусловия:**  
Стек Redo пуст.

**Последовательность действий:**
1. Ввести команду `redo`.

**Ожидаемый результат:**
- Сообщение: «Нет действий для повтора».

**Скриншоты:**  

---

## 8. Парсинг строк

### ТС-42 Корректный парсинг строк из файла

**Описание:**
Проверка, что приложение правильно читает данные из CSV-файла.

**Предусловия:**
Существует файл `Data/todos_*.csv` с корректными данными:
Index;Text;Status;LastUpdate
0;"Выгулять собаку";InProgress;2026-02-22T23:57:32
1;"Убрать за кошкой";NotStarted;2026-02-23T00:00:14
2;"Полить цветы";NotStarted;2026-02-23T00:00:30
3;"Убрать комнату";NotStarted;2026-02-23T00:00:45
4;"Купить молоко";NotStarted;2026-02-23T00:11:07
5;"Купить персики";NotStarted;2026-02-23T00:11:19
6;"Купить творог";NotStarted;2026-02-23T00:11:29
7;"Купить груши";NotStarted;2026-02-23T00:11:44
8;"Повесить картину";NotStarted;2026-02-23T00:37:25
9;"задача";NotStarted;2026-02-23T00:48:06
**Последовательность действий:**
1. Запустить приложение.
2. Войти в профиль, которому принадлежит этот файл.
3. Ввести команду `view --all`.

**Ожидаемый результат:**
- Задачи успешно загружаются.
- Отображаются все задачи с корректными текстами, статусами и датами.

**Скриншоты:**

---

### ТС-43 Обработка строк со служебными символами

**Описание:**
Проверка чтения строк, содержащих символы `;` и `"` в тексте задачи.

**Предусловия:**
В файле `todos_*.csv` есть строка с экранированными символами:
10;"купить цветы, конфеты, открытку; убрат в комнате/на кухне/в ванне; выгулять";NotStarted;2026-02-23T01:44:02
**Последовательность действий:**
1. Запустить приложение.
2. Войти в профиль.
3. Ввести команду `read 11`.

**Ожидаемый результат:**
- Текст задачи отображается корректно: «Текст с точкой с запятой; и кавычкой "внутри"».
- Символы не теряются и не ломают формат.

**Скриншоты:**

---

### ТС-44 Обработка пустых или повреждённых строк

**Описание:**
Проверка поведения приложения при наличии пустых строк или мусора в файле.

**Предусловия:**
В файл `todos_*.csv` добавлены пустые строки и мусор:
Index;Text;Status;LastUpdate
0;"Выгулять собаку";InProgress;2026-02-22T23:57:32
1;"Убрать за кошкой";NotStarted;2026-02-23T00:00:14
2;"Полить цветы";NotStarted;2026-02-23T00:00:30
3;"Убрать комнату";NotStarted;2026-02-23T00:00:45
4;"Купить молоко";NotStarted;2026-02-23T00:11:07


5;"Купить персики";NotStarted;2026-02-23T00:11:19
6;"Купить творог";NotStarted;2026-02-23T00:11:29
7;"Купить груши";NotStarted;2026-02-23T00:11:44

8;"Повесить картину";NotStarted;2026-02-23T00:37:25
9;"задача";NotStarted;2026-02-23T00:48:06
10;"купить цветы, конфеты, открытку; убрат в комнате/на кухне/в ванне; выгулять";NotStarted;2026-02-23T01:44:02

строка
строка
**Последовательность действий:**
1. Запустить приложение.
2. Войти в профиль.
3. Ввести команду `view --all`.

**Ожидаемый результат:**
- Пустые строки игнорируются.
- Мусорные строки игнорируются.
- Корректные задачи (0, 1, 2) загружаются и отображаются.
- Приложение не падает с ошибкой.

**Скриншоты:**

---

### ТС-45 Поведение программы при ошибке парсинга

**Описание:**
Проверка устойчивости приложения при серьёзных ошибках в формате файла (неверное количество колонок).

**Предусловия:**
Файл `todos_*.csv` имеет неверный формат — отсутствует колонка `LastUpdate`:
Index;Text;Status
0;"Выгулять собаку";InProgress;2026-02-22T23:57:32
1;"Убрать за кошкой";
2;"Полить цветы";NotStarted;2026-02-23T00:00:30
3;"Убрать комнату";NotStarted;2026-02-23T00:00:45
4;"Купить молоко";NotStarted
5;"Купить персики";NotStarted;2026-02-23T00:11:19
6;"Купить творог";
7;"Купить груши";NotStarted;2026-02-23T00:11:44
8;"Повесить картину";NotStarted;2026-02-23T00:37:25
9;"задача";NotStarted;2026-02-23T00:48:06
10;"купить цветы, конфеты, открытку; убрат в комнате/на кухне/в ванне; выгулять";NotStarted;2026-02-23T01:44:02
**Последовательность действий:**
1. Запустить приложение.
2. Войти в профиль.
3. Ввести команду `view`.

**Ожидаемый результат:**
- Приложение не падает с исключением.

**Скриншоты:**

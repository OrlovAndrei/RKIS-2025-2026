# TodoList

Учебное консольное приложение на C# (.NET) для ввода данных пользователя и работы со списком задач.

## Что сделано:

### Базовая функциональность:
- Создано консольное приложение TodoList (папка `TodoList`)
- Добавлен стартовый вывод: "Работу выполнили Буряк Степан Геннадьевич и Голубев Данил Сергеевич"
- Реализован ввод имени, фамилии и года рождения, вычисление возраста и вывод сообщения вида:
  "Добавлен пользователь <Имя> <Фамилия>, возраст <N>"

### Объектно-ориентированная модель:
- класс `Profile` хранит данные пользователя и предоставляет метод `GetInfo()`
- класс `TodoItem` описывает одну задачу (текст, статус, дата изменения) и методы `MarkDone`, `UpdateText`, `GetShortInfo`, `GetFullInfo`
- класс `TodoList` управляет списком задач (`Add`, `Delete`, `View`, индексатор) и позволяет перебирать задачи через `foreach`

### Паттерн Command (лекция 7):
- Создан интерфейс `ICommand` с методом `Execute()`
- Реализованы классы команд:
  - `HelpCommand` — вывод справки
  - `ExitCommand` — выход из программы
  - `ProfileCommand` — вывод информации о профиле
  - `AddCommand` — добавление задачи (с поддержкой флага `--multiline`)
  - `ViewCommand` — просмотр задач (с флагами `--no-index`, `--no-done`, `--no-date`)
  - `StatusCommand` — изменение статуса задачи
  - `DeleteCommand` — удаление задачи
  - `UpdateCommand` — обновление текста задачи
  - `ReadCommand` — вывод полной информации о задаче
- Создан статический класс `CommandParser` с методом `Parse()`, который:
  - Определяет команду по введённой строке
  - Разбирает флаги и параметры
  - Создаёт объект соответствующего класса команды
  - Присваивает объекту свойства `TodoList` или `Profile` в зависимости от назначения команды
  - Возвращает объект команды как `ICommand`
- Главный цикл программы переработан для использования паттерна Command

### Работа с файлами (лекция 8):
- Создан статический класс `FileManager` для работы с файлами и папками:
  - `EnsureDataDirectory(string dirPath)` — проверяет существование папки, создаёт её при необходимости
  - `SaveProfile(Profile profile, string filePath)` — сохраняет данные пользователя в `profile.txt`
  - `LoadProfile(string filePath)` — загружает данные пользователя из `profile.txt`
  - `SaveTodos(TodoList todos, string filePath)` — сохраняет задачи в CSV-файл `todo.csv`
  - `LoadTodos(string filePath)` — загружает задачи из CSV-файла
- Формат CSV-файла для задач: `Index;Text;Status;LastUpdate`
- Автоматическое сохранение данных после каждого изменения (команды `add`, `status`, `update`, `delete`, `profile`)
- Автоматическая загрузка данных при запуске программы из папки `data/`
- Использование классов `File`, `Directory`, `Path` для работы с файловой системой
- Экранирование специальных символов в CSV (кавычки, переносы строк)

## Команды:

- `help` — список доступных команд
- `profile` — выводит данные пользователя в формате: `Имя Фамилия, возраст N`
- `add "текст задачи"` — добавляет новую задачу; статус `не сделано`, дата — текущая
- `add --multiline` — добавляет задачу в многострочном режиме (ввод завершается пустой строкой)
- `view` — выводит задачи в табличном виде: индекс, сокращённый текст, статус, дата
- `view --no-index` — выводит задачи без индексов
- `view --no-done` — выводит задачи без статуса выполнения
- `view --no-date` — выводит задачи без даты
- `status <idx> <status>` — изменяет статус задачи (`notstarted`, `inprogress`, `completed`, `postponed`, `failed`)
- `delete <idx>` — удаляет задачу
- `update <idx> "новый текст"` — обновляет текст задачи и дату
- `read <idx>` — выводит полную информацию по задаче (`GetFullInfo()`)
- `exit` — завершает программу

## Работа с данными:

- При первом запуске программа создаст папку `data/` в текущей директории
- Профиль пользователя сохраняется в `data/profile.txt`
- Список задач сохраняется в `data/todo.csv` в формате CSV
- При каждом запуске программа автоматически загружает сохранённые данные
- Все изменения автоматически сохраняются после выполнения команд

## Как запустить (при установленном .NET SDK):

- Из корня репозитория: `dotnet run --project ./TodoList/TodoListTodoList.csproj`

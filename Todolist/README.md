## Todolist

Практическое задание по дисциплине **РКИС** (группа 3834)

### Авторы
- Должиков
- Бут

### Краткое описание
Консольное приложение **Todolist** реализует многопользовательский список задач с поддержкой:
- нескольких профилей пользователей;
- отдельных файлов задач для каждого профиля;
- статусов задач;
- многострочного ввода;
- системы Undo/Redo;
- паттерна **Command** для команд.

### Профили пользователей
- Профили хранятся в файле `profile.csv` в формате:  
  `Id;Login;Password;FirstName;LastName;BirthYear`
- При запуске программа спрашивает:  
  `Войти в существующий профиль? [y/n]`
  - при `y` — вводятся логин и пароль, при успешном входе загружается профиль и его задачи;
  - при `n` — создаётся новый профиль (логин, пароль, имя, фамилия, год рождения).
- Для выхода из профиля используется команда:  
  `profile --out` или `profile -o`  
  После выхода программа снова возвращается в режим выбора профиля.

### Хранение задач
- Все задачи хранятся в словаре `Dictionary<Guid, TodoList>` в `AppInfo`:
  - ключ — `Id` пользователя (`Guid`);
  - значение — список задач (`TodoList`) этого пользователя.
- Для каждого пользователя задачи сохраняются в отдельный файл:  
  `todos_<Id>.csv`  
  Формат строки:
  `Index;Text;Status;LastUpdate`
- При входе в профиль его файл `todos_<Id>.csv` создаётся при необходимости и загружается в память.

### Основные команды
- `help` — список всех команд.
- `profile` — показать и (при желании) обновить данные текущего профиля.
- `profile --out` / `profile -o` — выйти из текущего профиля и выбрать/создать другой.
- `add "текст задачи"` — добавить однострочную задачу.
- `add --multiline` / `add -m` — добавить многострочную задачу (завершить ввод `!end`).
- `view [flags]` — просмотреть задачи текущего профиля:
  - `--index, -i` — показывать индекс;
  - `--status, -s` — показывать статус;
  - `--update-date, -d` — показывать дату изменения;
  - `--all, -a` — все поля сразу.
- `read <idx>` — показать полное описание задачи.
- `status <idx> <status>` — изменить статус задачи.
- `delete <idx>` — удалить задачу.
- `update <idx> "новый текст"` — изменить текст задачи.
- `undo` / `redo` — отмена и повтор последних действий (отдельно для каждого профиля).
- `exit` — выход из программы.

### Undo/Redo и профили
- Для каждого профиля при входе:
  - очищаются стеки `UndoStack` и `RedoStack`;
  - загружается свой список задач из `todos_<Id>.csv`.
- Команды `add`, `update`, `delete`, `status` работают только с задачами профиля, у которого `Id == CurrentProfileId`, и **сразу** сохраняют изменения в файл соответствующего пользователя.

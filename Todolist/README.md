# Todolist

Практическое задание по дисциплине **РКИС** (группа 3834)

## Авторы
- Должиков
- Бут

## Что сделано
- Создано консольное приложение **Todolist**
- Добавлен `.gitignore`
- Реализована объектно-ориентированная архитектура
- Созданы классы: `TodoItem`, `TodoList`, `Profile`
- Реализован ввод профиля пользователя (имя, фамилия, год рождения)
- Автоматический расчёт возраста
- Реализована работа со списком задач
- Реализован паттерн **Command** для управления командами
- Создан класс `CommandParser` для парсинга и создания команд

## Возможности программы

### Команды управления задачами:
- `help` — список всех команд
- `profile` — выводит данные профиля пользователя через метод `GetInfo()`
- `add "текст задачи"` — создаёт объект `TodoItem` и добавляет его в `TodoList`
- `add --multiline / -m` — добавляет многострочную задачу (завершить ввод командой `!end`)
- `view` — показывает все задачи (в порядке добавления)
- `view [flags]` — показывает задачи с дополнительной информацией:
  - `--index, -i` — показывать индекс задачи
  - `--status, -s` — показывать статус задачи
  - `--update-date, -d` — показывать дату последнего изменения
  - `--all, -a` — показывать все поля одновременно
  - Комбинации: `-is`, `-ds`, `-dis`
- `read <idx>` — выводит полное описание задачи через метод `Read()`
- `done <idx>` — отмечает задачу выполненной через метод `MarkDone()`
- `delete <idx>` — удаляет задачу через метод `Delete()`
- `update <idx> "новый текст"` — обновляет текст задачи через метод `UpdateText()`
- `exit` — завершает работу программы

## Архитектура

### Класс TodoItem
- **Свойства**: `Text`, `IsDone`, `LastUpdate`
- **Методы**: 
  - `MarkDone()` — отмечает задачу выполненной и обновляет дату
  - `UpdateText(string newText)` — изменяет текст и обновляет дату
  - `GetShortInfo()` — возвращает краткую информацию (30 символов)
  - `GetFullInfo()` — возвращает полное описание

### Класс TodoList
- **Приватное поле**: массив задач `TodoItem[]`
- **Методы**:
  - `Add(TodoItem item)` — добавить задачу
  - `Delete(int index)` — удалить задачу
  - `View(bool showIndex, bool showDone, bool showDate)` — вывод задач в виде таблицы
  - `Read(int index)` — вывести полное описание задачи
  - `GetItem(int index)` — получить задачу по индексу
  - `Count` — свойство для получения количества задач
  - `IncreaseArray()` — приватный метод для увеличения размера массива

### Класс Profile
- **Свойства**: `FirstName`, `LastName`, `BirthYear`
- **Метод**: `GetInfo()` — возвращает строку "Имя Фамилия, возраст N"

### Паттерн Command

#### Интерфейс ICommand
- **Метод**: `Execute()` — выполнение команды

#### Классы команд (реализуют ICommand)
- **AddCommand** — добавление задачи
  - Свойства: `TodoList`, `Args` (string), `Multiline` (bool)
  - Создаёт `TodoItem` и добавляет его в `TodoList`
  
- **ViewCommand** — просмотр задач
  - Свойства: `TodoList`, `Args` (string), `ShowIndex` (bool), `ShowStatus` (bool), `ShowDate` (bool)
  - Вызывает `TodoList.View()` с соответствующими флагами
  
- **ReadCommand** — чтение задачи
  - Свойства: `TodoList`, `Index` (int)
  - Вызывает `TodoList.Read()`
  
- **DoneCommand** — отметка задачи выполненной
  - Свойства: `TodoList`, `Index` (int)
  - Вызывает `TodoItem.MarkDone()`
  
- **DeleteCommand** — удаление задачи
  - Свойства: `TodoList`, `Index` (int)
  - Вызывает `TodoList.Delete()`
  
- **UpdateCommand** — обновление задачи
  - Свойства: `TodoList`, `Index` (int), `NewText` (string)
  - Вызывает `TodoItem.UpdateText()`
  
- **ProfileCommand** — вывод профиля
  - Свойства: `Profile`
  - Вызывает `Profile.GetInfo()`

#### Класс CommandParser (статический)
- **Метод**: `Parse(string inputString, TodoList todoList, Profile profile)` — возвращает `ICommand`
  - Определяет команду по введённой строке
  - Разбирает флаги и параметры
  - Создаёт объект соответствующего класса команды
  - Присваивает свойства `TodoList` или `Profile`
  - Возвращает объект команды как `ICommand`

## Работа программы

### Главный цикл (Main)
1. Считывает строку пользователя через `Console.ReadLine()`
2. Передаёт строку в `CommandParser.Parse()` вместе с `TodoList` и `Profile`
3. Получает объект `ICommand`
4. Вызывает `Execute()` для выполнения команды

### Пример работы:
```
>>> add "Купить молоко"
Задача добавлена: "Купить молоко"

>>> view -is
Ваши задачи:
...

>>> done 1
Задача 1 отмечена как выполненная.

>>> profile
Иван Петров, возраст 25
```

## Особенности
- Объектно-ориентированный дизайн
- Реализация паттерна **Command** для управления командами
- Централизованный парсинг команд через `CommandParser`
- Все поля классов приватные, доступ через свойства и методы
- Автоматическое расширение массива задач при переполнении
- Поддержка многострочных задач
- Гибкий вывод задач с различными комбинациями флагов
- Удобное пошаговое управление через команды
- Расширяемость: легко добавить новые команды, создав новый класс, реализующий `ICommand`
